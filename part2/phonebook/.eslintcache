[{"/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/index.js":"1","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/App.js":"2","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/Persons.js":"3","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/Filter.js":"4","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/PersonForm.js":"5","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/services/person.js":"6","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/Notification.js":"7"},{"size":198,"mtime":1611297841673,"results":"8","hashOfConfig":"9"},{"size":4296,"mtime":1612098211306,"results":"10","hashOfConfig":"9"},{"size":385,"mtime":1612066251163,"results":"11","hashOfConfig":"9"},{"size":273,"mtime":1611318783588,"results":"12","hashOfConfig":"9"},{"size":500,"mtime":1611318669015,"results":"13","hashOfConfig":"9"},{"size":642,"mtime":1612711517204,"results":"14","hashOfConfig":"9"},{"size":340,"mtime":1612098057245,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"112info",{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"18"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/index.js",[],["34","35"],"/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/App.js",["36","37"],"import React, { useState, useEffect} from 'react'\nimport './index.css'\nimport personService from './services/person'\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\"\nimport Notification from \"./components/Notification\"\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewPhone ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [notification, setNotification] = useState({message: null, isSuccess: false})\n\n  useEffect(() =>{\n      personService\n          .getAll()\n          .then(persons => setPersons(persons))\n  }, [])\n\n  const addPerson = (event) => {\n      event.preventDefault()\n      const filterPerson = persons.filter(person => person.name === newName)\n      if (filterPerson.length === 0){\n          let id = persons.length + 1\n          while (persons.filter(person => person.id === id).length > 0)\n              id = id + 1\n          const personObject = {\n              name: newName,\n              number: newNumber,\n              id: id\n          }\n          personService\n              .create(personObject)\n              .then(personObject => {\n                  setPersons(persons.concat(personObject))\n                  setNotification({\n                      message: `Added ${newName}`, \n                      isSuccess: true})\n                  }\n              )\n          setTimeout(() => setNotification({\n              message: null,\n              isSuccess: false\n          }), 5000)\n      }\n      else\n          if(window.confirm(`${newName} is already added to phonebook, replace a old number with a new one?`)) {\n              const changedPerson = {...filterPerson[0], number: newNumber}\n              console.log('changedPerson', changedPerson)\n              personService\n                  .update(changedPerson.id, changedPerson)\n                  .then(returnedPerson => {\n                      setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n                      setNotification({\n                          message: `Updated ${newName}`,\n                          isSuccess: true\n                      })\n                  })\n                  .catch(error => {\n                      setNotification({\n                          message: `Information of ${newName} has already been removed from server`,\n                          isSuccess: false\n                      })\n                      setPersons(persons.filter(person => person.name !== newName))\n                      console.log(error)\n                  })\n              setTimeout(() => setNotification({\n                  message: null,\n                  isSuccess: false\n              }), 5000)\n          }\n      setNewName('')\n      setNewPhone('')\n    }\n\n  const deletePerson = (person) => {\n        console.log(person.name)\n        if (window.confirm(`Do you really want to delete ${person.name}`))\n            personService\n                .remove(person.id)\n                .then(() => setPersons(persons.filter(p => p.id != person.id)))\n         setNotification({\n             message: `Removed ${person.name}`,\n             isSuccess: true\n\n         })\n\n    }\n\n  const handlePersonChange = (event) => {\n      setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n      setNewPhone(event.target.value)\n  }\n\n  const handleSearchName = (event) => {\n      setSearchName(event.target.value)\n  }\n\n  const searchPersons = searchName === ''\n      ? persons\n      : persons.filter(person => person.name.toLocaleLowerCase().includes(searchName.toLocaleLowerCase()))\n\n  return (\n    <div>\n      <Notification message={notification.message} isSuccess={notification.isSuccess}/>\n      <h2>Search phone number by name (insensitive)</h2>\n      <Filter searchName={searchName} handleSearchName={handleSearchName}/>\n      <h2>Phonebook</h2>\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handlePersonChange={handlePersonChange} handlePhoneChange={handlePhoneChange}/>\n      <h2>Numbers</h2>\n      <Persons searchPersons={searchPersons} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/Persons.js",[],"/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/Filter.js",[],"/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/PersonForm.js",[],"/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/services/person.js",["38"],"import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response =>  response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n\n}\nexport default {getAll, create, update, remove}","/Users/lap13366-local/Documents/self-learning/FullStackOpen2020/part2/phonebook/src/components/Notification.js",[],["39","40"],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":27,"column":33,"nodeType":"47","messageId":"48","endLine":27,"endColumn":59},{"ruleId":"49","severity":1,"message":"50","line":83,"column":65,"nodeType":"51","messageId":"52","endLine":83,"endColumn":67},{"ruleId":"53","severity":1,"message":"54","line":24,"column":1,"nodeType":"55","endLine":24,"endColumn":48},{"ruleId":"41","replacedBy":"56"},{"ruleId":"43","replacedBy":"57"},"no-native-reassign",["58"],"no-negated-in-lhs",["59"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'id'.","ArrowFunctionExpression","unsafeRefs","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",["58"],["59"],"no-global-assign","no-unsafe-negation"]